<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Functors &mdash; MAD-NG Reference Manual 0.9.6 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Monomials" href="mad_mod_monomial.html" />
    <link rel="prev" title="Functions" href="mad_mod_functions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            MAD-NG Reference Manual
          </a>
              <div class="version">
                0.9.6
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Part I:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mad_gen_index.html">LANGUAGE</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Part II:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mad_cmd_index.html">ELEMENTS &amp; COMMANDS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Part III:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mad_phy_index.html">PHYSICS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Part IV:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="mad_mod_index.html">MODULES</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="mad_mod_types.html">Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="mad_mod_const.html">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="mad_mod_functions.html">Functions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Functors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#constructors">Constructors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mad_mod_monomial.html">Monomials</a></li>
<li class="toctree-l2"><a class="reference internal" href="mad_mod_numrange.html">Numerical Ranges</a></li>
<li class="toctree-l2"><a class="reference internal" href="mad_mod_randnum.html">Random Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="mad_mod_cplxnum.html">Complex Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="mad_mod_linalg.html">Linear Algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="mad_mod_diffalg.html">Differential Algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="mad_mod_diffmap.html">Differential Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="mad_mod_miscfuns.html">Miscellaneous Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="mad_mod_gphys.html">Generic Physics</a></li>
<li class="toctree-l2"><a class="reference internal" href="mad_mod_extern.html">External modules</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Part V:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mad_prg_index.html">PROGRAMMING</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MAD-NG Reference Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="mad_mod_index.html">MODULES</a></li>
      <li class="breadcrumb-item active">Functors</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/mad_mod_functor.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="mad_mod_functions.html" class="btn btn-neutral float-left" title="Functions" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mad_mod_monomial.html" class="btn btn-neutral float-right" title="Monomials" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="functors">
<span id="index-0"></span><h1>Functors<a class="headerlink" href="#functors" title="Permalink to this heading">¶</a></h1>
<p>This chapter describes how to create, combine and use <em>functors</em> from the <code class="xref mad mad-mod docutils literal notranslate"><span class="pre">MAD</span></code> environment. Functors are objects that behave like functions with <em>callable</em> semantic, and also like readonly arrays with <em>indexable</em> semantic, where the index is translated as a unique argument into the function call. They are mainly used by the object model to distinguish them from functions which are interpreted as deferred expressions and evaluated automatically on reading, and by the Survey and Track tracking codes to handle (user-defined) actions.</p>
<section id="constructors">
<h2>Constructors<a class="headerlink" href="#constructors" title="Permalink to this heading">¶</a></h2>
<p>This module provides mostly constructors to create functors from functions, functors and any objects with <em>callable</em> semantic, and combine them all together.</p>
<dl class="mad function">
<dt class="sig sig-object mad" id="functor">
<em class="property"> </em><span class="sig-name descname"><span class="pre">functor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#functor" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <em>functor</em> that encapsulates the function (or any callable object) <code class="xref mad mad-var docutils literal notranslate"><span class="pre">f</span></code>. Calling the returned functor is like calling <code class="xref mad mad-var docutils literal notranslate"><span class="pre">f</span></code> itself with the same arguments.</p>
</dd></dl>

<dl class="mad function">
<dt class="sig sig-object mad" id="compose">
<em class="property"> </em><span class="sig-name descname"><span class="pre">compose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f</span></em>, <em class="sig-param"> <span class="pre">g</span></em><span class="sig-paren">)</span><a class="headerlink" href="#compose" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <em>functor</em> that encapsulates the composition of <code class="xref mad mad-var docutils literal notranslate"><span class="pre">f</span></code> and <code class="xref mad mad-var docutils literal notranslate"><span class="pre">g</span></code>. Calling the returned functor is like calling <span class="math notranslate nohighlight">\((f \circ g)(\dots)\)</span>. The operator <code class="code docutils literal notranslate"><span class="pre">f</span> <span class="pre">^</span> <span class="pre">g</span></code> is a shortcut for <a class="reference internal" href="#compose" title="compose"><code class="xref mad mad-func docutils literal notranslate"><span class="pre">compose</span></code></a> if <code class="xref mad mad-var docutils literal notranslate"><span class="pre">f</span></code> is a <em>functor</em>.</p>
</dd></dl>

<dl class="mad function">
<dt class="sig sig-object mad" id="chain">
<em class="property"> </em><span class="sig-name descname"><span class="pre">chain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f</span></em>, <em class="sig-param"> <span class="pre">g</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <em>functor</em> that encapsulates the calls chain of <code class="xref mad mad-var docutils literal notranslate"><span class="pre">f</span></code> and <code class="xref mad mad-var docutils literal notranslate"><span class="pre">g</span></code>. Calling the returned functor is like calling <span class="math notranslate nohighlight">\(f(\dots) ; g(\dots)\)</span>. The operator <code class="code docutils literal notranslate"><span class="pre">f</span> <span class="pre">..</span> <span class="pre">g</span></code> is a shortcut for <a class="reference internal" href="#chain" title="chain"><code class="xref mad mad-func docutils literal notranslate"><span class="pre">chain</span></code></a> if <code class="xref mad mad-var docutils literal notranslate"><span class="pre">f</span></code> is a <em>functor</em>.</p>
</dd></dl>

<dl class="mad function">
<dt class="sig sig-object mad" id="achain">
<em class="property"> </em><span class="sig-name descname"><span class="pre">achain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f</span></em>, <em class="sig-param"> <span class="pre">g</span></em><span class="sig-paren">)</span><a class="headerlink" href="#achain" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <em>functor</em> that encapsulates the <em>AND</em>-ed calls chain of <code class="xref mad mad-var docutils literal notranslate"><span class="pre">f</span></code> and <code class="xref mad mad-var docutils literal notranslate"><span class="pre">g</span></code>. Calling the returned functor is like calling <span class="math notranslate nohighlight">\(f(\dots) \land g(\dots)\)</span>.</p>
</dd></dl>

<dl class="mad function">
<dt class="sig sig-object mad" id="ochain">
<em class="property"> </em><span class="sig-name descname"><span class="pre">ochain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f</span></em>, <em class="sig-param"> <span class="pre">g</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ochain" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <em>functor</em> that encapsulates the <em>OR</em>-ed calls chain of <code class="xref mad mad-var docutils literal notranslate"><span class="pre">f</span></code> and <code class="xref mad mad-var docutils literal notranslate"><span class="pre">g</span></code>. Calling the returned functor is like calling <span class="math notranslate nohighlight">\(f(\dots) \lor g(\dots)\)</span>.</p>
</dd></dl>

<dl class="mad function">
<dt class="sig sig-object mad" id="bind1st">
<em class="property"> </em><span class="sig-name descname"><span class="pre">bind1st</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f</span></em>, <em class="sig-param"> <span class="pre">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bind1st" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <em>functor</em> that encapsulates <code class="xref mad mad-var docutils literal notranslate"><span class="pre">f</span></code> and binds <code class="xref mad mad-var docutils literal notranslate"><span class="pre">a</span></code> as its first argument. Calling the returned functor is like calling <span class="math notranslate nohighlight">\(f(a,\dots)\)</span>.</p>
</dd></dl>

<dl class="mad function">
<dt class="sig sig-object mad" id="bind2nd">
<em class="property"> </em><span class="sig-name descname"><span class="pre">bind2nd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f</span></em>, <em class="sig-param"> <span class="pre">b</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bind2nd" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <em>functor</em> that encapsulates <code class="xref mad mad-var docutils literal notranslate"><span class="pre">f</span></code> and binds <code class="xref mad mad-var docutils literal notranslate"><span class="pre">b</span></code> as its second argument. Calling the returned functor is like calling <span class="math notranslate nohighlight">\(f(a,b,\dots)\)</span> where <code class="xref mad mad-var docutils literal notranslate"><span class="pre">a</span></code> may or may not be provided.</p>
</dd></dl>

<dl class="mad function">
<dt class="sig sig-object mad" id="bind3rd">
<em class="property"> </em><span class="sig-name descname"><span class="pre">bind3rd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f</span></em>, <em class="sig-param"> <span class="pre">c</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bind3rd" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <em>functor</em> that encapsulates <code class="xref mad mad-var docutils literal notranslate"><span class="pre">f</span></code> and binds <code class="xref mad mad-var docutils literal notranslate"><span class="pre">c</span></code> as its third argument. Calling the returned functor is like calling <span class="math notranslate nohighlight">\(f(a,b,c,\dots)\)</span> where <code class="xref mad mad-var docutils literal notranslate"><span class="pre">a</span></code> and <code class="xref mad mad-var docutils literal notranslate"><span class="pre">b</span></code> may or may not be provided.</p>
</dd></dl>

<dl class="mad function">
<dt class="sig sig-object mad" id="bind2st">
<em class="property"> </em><span class="sig-name descname"><span class="pre">bind2st</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f</span></em>, <em class="sig-param"> <span class="pre">a</span></em>, <em class="sig-param"> <span class="pre">b</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bind2st" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <em>functor</em> that encapsulates <code class="xref mad mad-var docutils literal notranslate"><span class="pre">f</span></code> and binds <code class="xref mad mad-var docutils literal notranslate"><span class="pre">a</span></code> and <code class="xref mad mad-var docutils literal notranslate"><span class="pre">b</span></code> as its two first arguments. Calling the returned functor is like calling <span class="math notranslate nohighlight">\(f(a,b,\dots)\)</span>.</p>
</dd></dl>

<dl class="mad function">
<dt class="sig sig-object mad" id="bind3st">
<em class="property"> </em><span class="sig-name descname"><span class="pre">bind3st</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f</span></em>, <em class="sig-param"> <span class="pre">a</span></em>, <em class="sig-param"> <span class="pre">b</span></em>, <em class="sig-param"> <span class="pre">c</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bind3st" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <em>functor</em> that encapsulates <code class="xref mad mad-var docutils literal notranslate"><span class="pre">f</span></code> and binds <code class="xref mad mad-var docutils literal notranslate"><span class="pre">a</span></code>, <code class="xref mad mad-var docutils literal notranslate"><span class="pre">b</span></code> and <code class="xref mad mad-var docutils literal notranslate"><span class="pre">c</span></code> as its three first arguments. Calling the returned functor is like calling <span class="math notranslate nohighlight">\(f(a,b,c,\dots)\)</span>.</p>
</dd></dl>

<dl class="mad function">
<dt class="sig sig-object mad" id="bottom">
<em class="property"> </em><span class="sig-name descname"><span class="pre">bottom</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bottom" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <em>functor</em> that encapsulates the identity function <code class="xref mad mad-func docutils literal notranslate"><span class="pre">ident</span></code> to define the <em>bottom</em> symbol of functors. Bottom is also available in the operator strings table <code class="xref mad mad-mod docutils literal notranslate"><span class="pre">opstr</span></code> as <code class="xref mad mad-const docutils literal notranslate"><span class="pre">&quot;_|_&quot;</span></code>.</p>
</dd></dl>

</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this heading">¶</a></h2>
<dl class="mad function">
<dt class="sig sig-object mad" id="is_functor">
<em class="property"> </em><span class="sig-name descname"><span class="pre">is_functor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#is_functor" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="xref mad mad-const docutils literal notranslate"><span class="pre">true</span></code> if <code class="xref mad mad-var docutils literal notranslate"><span class="pre">a</span></code> is a <em>functor</em>, <code class="xref mad mad-const docutils literal notranslate"><span class="pre">false</span></code> otherwise. This function is only available from the module <code class="xref mad mad-mod docutils literal notranslate"><span class="pre">MAD.typeid</span></code>.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mad_mod_functions.html" class="btn btn-neutral float-left" title="Functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mad_mod_monomial.html" class="btn btn-neutral float-right" title="Monomials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Laurent Deniau.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>